<script>
import SpecificationColorPicker from './specification/color-picker.vue';
import SpecificationNamePicker from './specification/name-picker.vue';

export default {
  components: {
    SpecificationColorPicker,
    SpecificationNamePicker,
  },
  data() {
    return {
      specificationNames: {},
      specificationColors: {},
      specifications: {},
      specification: {},
      nameKey: 0,
      colorKey: 0,
      inputAmount: 1,
    };
  },
  created() {
    this.specifications = window.Json.SpecificationsByName;
    this.specificationColors = [];
    this.specificationNames = [];

    for (let i = 0; i < this.specifications.length; i += 1) {
      this.specificationNames.push({
        name: this.specifications[i][0].name,
      });
    }

    for (let i = 0; i < this.specifications[0]; i += 1) {
      this.specificationColors.push({
        colorName: this.specifications[0][i].colorName,
        colorRgb: this.specifications[0][i].colorRgb,
      });
    }

    this.changeSpecification();
  },
  methods: {
    changeColorKey(payload) {
      this.colorKey = payload.key;
      this.changeSpecification();
    },
    changeNameKey(payload) {
      this.nameKey = payload.key;
      this.changeSpecification();
    },
    changeSpecification() {
      this.specification = this.specifications[this.nameKey][this.colorKey];
    },
  },
};
</script>
