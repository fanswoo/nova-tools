<template>
  <div
    :class="{
      'header-bar': true,
      'sidebar-opened': sidebarOpened,
    }"
  >
    <FontAwesomeIcon class="menu" icon="bars" @click="onMenuClick" />
    <a :href="routeToPage" class="logo"></a>
  </div>
</template>

<script lang="ts">
import { defineComponent, computed, ref, inject } from 'vue';
import { useStore } from '@/control-center/store/control-center-store';
import NotificationAlert from '@fanswoo/control-center/layouts/notification-alert/notification-alert.vue';

export default defineComponent({
  setup() {
    const store = useStore();
    const routeToPage = inject('routeToPage');
    const hasNotification = inject('hasNotification');

    const sidebarOpened = computed(() => store.state.RoutePage.sidebarOpened);
    const setSidebarOpened = (val: boolean) => store.commit('RoutePage/setSidebarOpened', val);

    const onMenuClick = () => {
      if (sidebarOpened.value) {
        setSidebarOpened(false);
      } else {
        setSidebarOpened(true);
      }
    };

    return { routeToPage, hasNotification, sidebarOpened, onMenuClick }
  },
});
</script>
