<template>
  <div class="head-content">
    <HeaderBar />
    <SideBar />
  </div>
</template>

<script lang="ts">
import { ComponentLoader } from '@fanswoo/component-loader/main';
import _ from 'lodash';
import { defineComponent, inject, getCurrentInstance } from 'vue';

export default defineComponent({
  setup() {
    const urlRootPath = inject('urlRootPath');
    const vueInstance = getCurrentInstance();
    const loader = ComponentLoader.getInstance();
    if(!vueInstance.proxy.$.components) {
      vueInstance.proxy.$.components = [];
    }
    _.merge(vueInstance.proxy.$.components, loader.loadComponents([
      {
        pageName: urlRootPath,
        themeName: 'layout',
        typeName: 'layout',
      },
    ]));
  }
});
</script>
