<template>
  <div class="fixed-buttons" :style="fixedButtonsStyle">
    <template v-for="button in reverseButtons" :key="button.key">
      <FixedButton
        :name="button.key"
        :linkTo="button.linkTo"
        :withSearchSettingFields="button.withSearchSettingFields"
        :buttonStyle="button.buttonStyle"
        :targetBlank="button.targetBlank"
        :fontAwesomeIcon="button.fontAwesomeIcon"
        :searchSettingFieldValues="searchSettingFieldValues"
        :color="button.color"
        :backgroundColor="button.backgroundColor"
        @onClick="onClick($event, button.key)"
      />
    </template>
  </div>
</template>

<script>
import FixedButton from '@fanswoo/control-center/layouts/fixed-button/fixed-button.vue';

export default {
  props: {
    buttons: {
      type: [Array, Object],
      default: function () {
        return [];
      },
    },
    searchSettingFieldValues: {
      type: Object,
      default: function () {
        return {};
      },
    },
    fixedBottom: {
      type: Number,
      default: 15,
    },
    fixedRight: {
      type: Number,
      default: 15,
    },
  },
  components: {
    FixedButton,
  },
  computed: {
    reverseButtons: function () {
      if (!this.buttons || this.buttons.length == 0) {
        return [];
      }

      return this.buttons.reverse();
    },
    fixedButtonsStyle: function () {
      return {
        bottom: this.fixedBottom + 'px',
        right: this.fixedRight + 'px',
      };
    },
  },
  methods: {
    onClick(event, key) {
      this.$emit('onClick', {
        key,
        event,
      });
    },
  },
  // mounted() {
  //     console.log( this.reverseButtons );
  // }
};
</script>

<style lang="scss">
.fixed-buttons {
  position: fixed;
  width: 50px;
  z-index: 1;
  .btn {
    width: 50px;
    height: 50px;
    line-height: 50px;
    border-radius: 25px;
    box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.1);
    margin-bottom: 10px;
    svg {
      width: 20px;
      height: 20px;
    }
  }
}
</style>
