<template>
    <RoutePageSwitch
      :key="route.path"
      ref="routePageSwitch"
      :routePagePath="route.fullPath"
      @onBeforeRouteDestroy="onBeforeRouteDestroy"
    />
</template>

<script setup lang="ts">
import { ref, computed, getCurrentInstance } from 'vue';
import { useStore } from '@/control-center/store/control-center-store';
import RoutePageSwitch from '@fanswoo/control-center/core/route-page-switch.vue';

const vueInstance = getCurrentInstance();
const store = useStore();
const routePageSwitch = ref(null);
const isRoutePageDestroy = ref(false);
const route = computed(() => vueInstance.proxy.$route);

const onBeforeRouteDestroy = (payload) => {
  isRoutePageDestroy.value = payload;
}
</script>