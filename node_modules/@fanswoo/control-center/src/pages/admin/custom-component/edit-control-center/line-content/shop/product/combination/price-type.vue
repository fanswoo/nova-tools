<template>
  <div>
    <div class="line-content" lineContent="priceType">
      <div class="title">優惠方式</div>
      <div class="field" v-cloak>
        <select v-if="requestId" v-model="combinationPriceType" disabled="true">
          <option value="price" selected>組合價格</option>
          <option value="discountPrice">額外折扣</option>
        </select>
        <select v-else v-model="combinationPriceType">
          <option value="price" selected>組合價格</option>
          <option value="discountPrice">額外折扣</option>
        </select>
        <div class="explanation">
          <p>
            請輸入本銷售組合的優惠計算方式，若消費者購買符合產品系列的產品組合，將給予「組合價格」或「額外折扣」
          </p>
          <p>
            組合價格：忽略產品原價，以銷售組合填寫的「組合價格」計算該組合之金額
          </p>
          <p>
            額外折扣：以產品原價計算該組合之金額，並根據銷售組合填寫的「額外折扣」給予額外折扣
          </p>
        </div>
      </div>
    </div>
    <div
      class="line-content"
      lineContent="price"
      v-if="combinationPriceType == 'price'"
    >
      <div class="title">組合價格</div>
      <div class="field" v-cloak>
        <input
          v-if="requestId"
          type="number"
          name="price"
          disabled="true"
          v-bind:value="Combination.price"
        />
        <input v-else type="number" name="price" />
        <div class="explanation">
          <p>
            組合價格將忽略產品原價，以銷售組合填寫的「組合價格」計算該組合之金額
          </p>
        </div>
      </div>
    </div>
    <div
      class="line-content"
      lineContent="discountPrice"
      v-if="combinationPriceType == 'discountPrice'"
    >
      <div class="title">額外折扣</div>
      <div class="field" v-cloak>
        <input
          v-if="requestId"
          type="number"
          name="discountPrice"
          disabled="true"
          v-bind:value="Combination.discountPrice"
        />
        <input v-else type="number" name="discountPrice" />
        <div class="explanation">
          <p>
            額外折扣以產品原價計算該組合之金額，並根據銷售組合填寫的「額外折扣」給予額外折扣
          </p>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  props: ['requestId', 'Combination', 'priceType'],
  data: () => {
    return {
      combinationPriceType: 'price',
    };
  },
  methods: {},
  mounted() {
    if (this.Combination.price) {
      this.combinationPriceType = 'price';
    } else if (this.Combination.discountPrice) {
      this.combinationPriceType = 'discountPrice';
    } else {
      this.combinationPriceType = 'price';
    }
  },
};
</script>
