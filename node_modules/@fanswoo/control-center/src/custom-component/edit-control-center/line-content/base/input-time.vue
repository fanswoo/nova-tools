<template>
  <line-content
    :title="title"
    :styleClass="styleClass"
    :explanation="explanation"
    :explanationLinkTo="explanationLinkTo"
    :alert="alert"
  >
    <TimePicker
      v-if="showRealInput"
      :id="inputName"
      :inputName="inputName"
      :inputWidth="inputWidth"
      :modelValue="value"
    />
    <input v-else class="empty-input-time" type="text" @click="onEmptyInputTimeClick" placeholder="請輸入時間" />
  </line-content>
</template>

<script>
import LineContent from '@fanswoo/control-center/custom-component/edit-control-center/line-content/base/line-content.vue';
import TimePicker from '@fanswoo/core/vue/plugins/date-picker/time-picker.vue';

export default {
  components: {
    LineContent,
    TimePicker,
  },
  props: [
    'title',
    'styleClass',
    'value',
    'inputName',
    'inputWidth',
    'explanation',
    'explanationLinkTo',
    'alert',
  ],
  methods: {
    onEmptyInputTimeClick() {
      this.showRealInput = true;
    },
  },
  data() {
    return {
      showRealInput: false,
    };
  },
  mounted() {
    if (this.value) {
      this.showRealInput = true;
    }
  },
};
</script>

<style lang="scss" scoped>
.field {
  input[type=text].empty-input-time {
    width: 140px;
  }
}
</style>